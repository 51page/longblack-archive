<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LongBlack | Insight Quiz Dark</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,900&family=Noto+Serif+KR:wght@400;700&display=swap');
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        :root {
            --lb-black: #1A1A1A; /* 짙은 검정 */
            --lb-dark-grey: #262626; /* 카드 배경 */
            --lb-orange: #F26522; /* 롱블랙 포인트 오렌지 */
            --lb-white: #FFFFFF;
        }

        body { 
            background-color: var(--lb-black); 
            font-family: 'Pretendard', sans-serif; 
            color: var(--lb-white);
            word-break: keep-all;
            user-select: none;
        }

        .serif { font-family: 'Playfair Display', 'Noto Serif KR', serif; }

        /* 빈칸 인풋 디자인 */
        .input-blank {
            background-color: transparent;
            border-bottom: 2px solid var(--lb-white);
            text-align: center;
            font-weight: 700;
            outline: none;
            color: var(--lb-orange); /* 주황색 텍스트 */
            transition: all 0.3s;
            padding: 0 4px;
        }

        .input-blank:focus { border-bottom-color: var(--lb-orange); }
        .input-blank::placeholder { color: #555; font-weight: 400; }
        .input-blank.preview { opacity: 0.7; }

        /* 카드 디자인 */
        .card {
            background-color: var(--lb-dark-grey);
            border: 1px solid #333;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .hairline { border-top: 1px solid var(--lb-white); width: 100%; margin: 8px 0; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .shake { animation: shake 0.2s ease-in-out 0s 2; }

        /* 버튼 디자인 */
        .btn-peek {
            border: 1px solid #444;
            color: #888;
            background: transparent;
        }
        .btn-peek:active { background: #333; color: var(--lb-orange); border-color: var(--lb-orange); }

        .btn-submit {
            background-color: var(--lb-orange);
            color: var(--lb-white);
            font-weight: 900;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function InsightQuiz() {
            const [answers, setAnswers] = useState({ q1: "", q2: "" });
            const [status, setStatus] = useState("idle");
            const [isPreviewing, setIsPreviewing] = useState(false);

            // 정답 키워드 (이호선 원고 기반)
            const correctAnswers = { q1: "안전의 역설", q2: "이를 악물고" };

            const checkAnswers = () => {
                const a1 = answers.q1.replace(/\s/g, "");
                const a2 = answers.q2.replace(/\s/g, "");
                
                if (a1 === correctAnswers.q1.replace(/\s/g, "") && 
                    a2 === correctAnswers.q2.replace(/\s/g, "")) {
                    setStatus("success");
                    confetti({ 
                        particleCount: 150, 
                        spread: 70, 
                        origin: { y: 0.6 }, 
                        colors: ['#F26522', '#FFFFFF', '#1A1A1A'] 
                    });
                } else {
                    setStatus("error");
                    setTimeout(() => setStatus("idle"), 500);
                }
            };

            const togglePreview = (val) => setIsPreviewing(val);

            return (
                <div className="max-w-2xl mx-auto px-6 py-12 md:py-20">
                    <header className="text-center mb-16">
                        <div className="flex justify-between text-[10px] font-bold border-b border-white/20 pb-1 mb-1 uppercase tracking-[0.3em]">
                            <span className="text-white/50">Human Relationship</span>
                            <span className="text-white/50">Quiz No. 05</span>
                        </div>
                        <h1 className="serif text-6xl md:text-8xl tracking-tighter uppercase font-black text-white">LongBlack</h1>
                        <div className="hairline"></div>
                        <p className="serif italic text-lg mt-4 text-white/70">이호선 : 가장 가까운 사람을 미워하는 이유</p>
                    </header>

                    <div className={`space-y-8 ${status === 'error' ? 'shake' : ''}`}>
                        [cite_start]{/* Question 01: 안전의 역설  */}
                        <div className="card">
                            <h3 className="text-[10px] font-bold uppercase tracking-[0.2em] mb-4 text-[#F26522]">Insight 01</h3>
                            <p className="text-lg leading-relaxed md:text-2xl font-light">
                                "집 밖에서는 너무나 친절한 이가 집안에서 공격적으로 변하는 현상을 이호선 교수는 
                                <input 
                                    className={`input-blank w-[140px] md:w-[180px] ${isPreviewing && !answers.q1 ? 'preview' : ''}`} 
                                    placeholder="5글자 입력"
                                    value={isPreviewing && !answers.q1 ? correctAnswers.q1 : answers.q1}
                                    onChange={(e) => setAnswers({...answers, q1: e.target.value})}
                                /> 
                                이라고 정의합니다. 가깝고 오래된 관계이기에 나타나는 위험한 기대입니다."
                            </p>
                        </div>

                        [cite_start]{/* Question 02: 이를 악물고  */}
                        <div className="card">
                            <h3 className="text-[10px] font-bold uppercase tracking-[0.2em] mb-4 text-[#F26522]">Insight 02</h3>
                            <p className="text-lg leading-relaxed md:text-2xl font-light">
                                "관계를 다정하게 만들고 싶다면 감정에만 맡기지 말고 
                                <input 
                                    className={`input-blank w-[140px] md:w-[180px] ${isPreviewing && !answers.q2 ? 'preview' : ''}`} 
                                    placeholder="5글자 입력"
                                    value={isPreviewing && !answers.q2 ? correctAnswers.q2 : answers.q2}
                                    onChange={(e) => setAnswers({...answers, q2: e.target.value})}
                                /> 
                                표현해야 합니다. 첫 문턱을 넘는 용기가 관계의 온도를 바꿉니다."
                            </p>
                        </div>
                    </div>

                    <div className="mt-16 flex flex-col gap-4">
                        <button 
                            onMouseDown={() => togglePreview(true)}
                            onMouseUp={() => togglePreview(false)}
                            onMouseLeave={() => togglePreview(false)}
                            onTouchStart={(e) => { e.preventDefault(); togglePreview(true); }}
                            onTouchEnd={(e) => { e.preventDefault(); togglePreview(false); }}
                            className="btn-peek w-full py-4 font-bold text-[11px] uppercase tracking-widest transition select-none"
                        >
                            Hold to Peek (답안 엿보기)
                        </button>

                        <button 
                            onClick={checkAnswers}
                            className="btn-submit w-full py-5 font-black text-sm uppercase tracking-[0.4em] transition-transform active:scale-[0.98]"
                        >
                            {status === 'success' ? "Insights Completed" : "Submit Answer"}
                        </button>
                    </div>

                    {status === 'success' && (
                        <div className="mt-12 text-center">
                            <p className="serif italic text-2xl text-[#F26522] animate-pulse">
                                "표현하지 않아도 아는 마음은 없습니다."
                            </p>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<InsightQuiz />);
    </script>
</body>
</html>
