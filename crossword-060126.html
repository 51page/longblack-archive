<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LongBlack | Insight Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,900&family=Noto+Serif+KR:wght@400;700&display=swap');
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        :root {
            --lb-black: #1A1A1A;
            --lb-bg: #F4F1EA;
            --lb-point: #B1967A;
        }

        body { 
            background-color: var(--lb-bg); 
            font-family: 'Pretendard', sans-serif; 
            color: var(--lb-black);
            word-break: keep-all;
            user-select: none; /* 정답 복사 방지 */
        }

        .serif { font-family: 'Playfair Display', 'Noto Serif KR', serif; }

        .input-blank {
            background-color: transparent;
            border-bottom: 2px solid var(--lb-black);
            text-align: center;
            font-weight: 700;
            outline: none;
            color: var(--lb-black);
            transition: all 0.3s;
            padding: 0 4px;
        }

        .input-blank::placeholder { color: #ccc; font-weight: 400; }
        .input-blank.preview { color: var(--lb-point); opacity: 0.6; }

        .card {
            background-color: #FFFFFF;
            border: 1px solid #D1D1D1;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03);
        }

        .hairline { border-top: 1px solid var(--lb-black); width: 100%; margin: 8px 0; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .shake { animation: shake 0.2s ease-in-out 0s 2; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function InsightQuiz() {
            const [answers, setAnswers] = useState({ q1: "", q2: "" });
            const [status, setStatus] = useState("idle");
            const [isPreviewing, setIsPreviewing] = useState(false);

            const correctAnswers = { q1: "안전의 역설", q2: "이를 악물고" };

            const checkAnswers = () => {
                if (answers.q1.replace(/\s/g, "") === correctAnswers.q1.replace(/\s/g, "") && 
                    answers.q2.replace(/\s/g, "") === correctAnswers.q2.replace(/\s/g, "")) {
                    setStatus("success");
                    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#B1967A', '#1A1A1A'] });
                } else {
                    setStatus("error");
                    setTimeout(() => setStatus("idle"), 500);
                }
            };

            const togglePreview = (val) => setIsPreviewing(val);

            return (
                <div className="max-w-2xl mx-auto px-6 py-12 md:py-20">
                    <header className="text-center mb-12">
                        <div className="flex justify-between text-[10px] font-bold border-b border-black pb-1 mb-1 uppercase tracking-widest">
                            <span>Family & Relationships</span>
                            <span>Quiz No. 05</span>
                        </div>
                        <h1 className="serif text-5xl md:text-7xl tracking-tighter uppercase font-black">LongBlack</h1>
                        <div className="hairline"></div>
                        <p className="serif italic text-lg mt-4 text-gray-700">“가까운 사람에게 예의를 갖추는 연습”</p>
                    </header>

                    <div className={`space-y-8 ${status === 'error' ? 'shake' : ''}`}>
                        {/* Q1 */}
                        <div className="card">
                            <h3 className="text-[10px] font-bold uppercase tracking-[0.2em] mb-4 text-[#B1967A]">Question 01</h3>
                            <p className="text-lg leading-relaxed md:text-xl">
                                "가까운 사이일수록 말하지 않아도 이해해 줄 것이라는 기대 때문에 오히려 공격성이 나타나는 현상을 
                                <input 
                                    className={`input-blank w-[120px] md:w-[150px] ${isPreviewing && !answers.q1 ? 'preview' : ''}`} 
                                    placeholder="5글자 입력"
                                    value={isPreviewing && !answers.q1 ? correctAnswers.q1 : answers.q1}
                                    onChange={(e) => setAnswers({...answers, q1: e.target.value})}
                                /> 
                                이라고 부릅니다."
                            </p>
                        </div>

                        {/* Q2 */}
                        <div className="card">
                            <h3 className="text-[10px] font-bold uppercase tracking-[0.2em] mb-4 text-[#B1967A]">Question 02</h3>
                            <p className="text-lg leading-relaxed md:text-xl">
                                "이호선 교수는 다정한 관계를 위해 마음속의 고마움과 존경을 
                                <input 
                                    className={`input-blank w-[120px] md:w-[150px] ${isPreviewing && !answers.q2 ? 'preview' : ''}`} 
                                    placeholder="5글자 입력"
                                    value={isPreviewing && !answers.q2 ? correctAnswers.q2 : answers.q2}
                                    onChange={(e) => setAnswers({...answers, q2: e.target.value})}
                                /> 
                                표현하라고 조언합니다. 용기가 관계를 살리는 명약이기 때문입니다."
                            </p>
                        </div>
                    </div>

                    <div className="mt-12 flex flex-col gap-4">
                        <button 
                            onMouseDown={() => togglePreview(true)}
                            onMouseUp={() => togglePreview(false)}
                            onMouseLeave={() => togglePreview(false)}
                            onTouchStart={(e) => { e.preventDefault(); togglePreview(true); }}
                            onTouchEnd={(e) => { e.preventDefault(); togglePreview(false); }}
                            className="w-full py-4 border border-black font-bold text-[11px] uppercase tracking-widest hover:bg-white/50 transition select-none"
                        >
                            Hold to Peek (답안 엿보기)
                        </button>

                        <button 
                            onClick={checkAnswers}
                            className="w-full py-5 bg-[#1A1A1A] text-[#F4F1EA] font-black text-sm uppercase tracking-[0.3em] transition-transform active:scale-[0.98]"
                        >
                            {status === 'success' ? "Insights Completed" : "Submit Answer"}
                        </button>
                    </div>

                    {status === 'success' && (
                        <div className="mt-10 text-center animate-fade-in">
                            <p className="serif italic text-xl text-[#B1967A]">
                                "오늘 당신 곁의 소중한 사람에게 '예쁘다'고 말해보세요."
                            </p>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<InsightQuiz />);
    </script>
</body>
</html>
