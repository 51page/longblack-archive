<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LongBlack Insight Puzzle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        
        /* ë¡±ë¸”ë™ í‚¤ì»¬ëŸ¬ ë³€ìˆ˜ */
        :root {
            --lb-black: #1A1A1A;
            --lb-bg: #F4F1EA;
            --lb-point: #B1967A;
            --lb-white: #FFFFFF;
        }

        body { 
            background-color: var(--lb-bg); 
            font-family: 'Pretendard', sans-serif; 
            color: var(--lb-black); 
        }

        /* í¼ì¦ ì…€ ë””ìì¸ */
        .grid-cell { 
            width: 42px; height: 42px; 
            border: 1px solid var(--lb-black); 
            text-align: center; font-weight: 700; font-size: 1.15rem; 
            border-radius: 0; outline: none; transition: all 0.2s;
            background-color: var(--lb-white);
        }
        .grid-cell:focus { 
            background-color: #FFFDF9; 
            box-shadow: inset 0 0 0 2px var(--lb-point); 
            z-index: 10; 
        }
        .empty-cell { background-color: var(--lb-black); border: 1px solid var(--lb-black); }
        
        /* ìˆ«ì ë¼ë²¨ */
        .number-label { 
            position: absolute; font-size: 10px; font-weight: 800; 
            left: 4px; top: 2px; color: var(--lb-black); 
            pointer-events: none; z-index: 20; 
        }
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-6px); }
            75% { transform: translateX(6px); }
        }
        .shake-effect { animation: shake 0.2s ease-in-out 0s 2; }
        .preview-text { color: var(--lb-point) !important; opacity: 0.7; }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .lb-btn-primary {
            background-color: var(--lb-black);
            color: var(--lb-white);
            transition: all 0.3s ease;
        }
        .lb-btn-primary:hover { background-color: #333333; transform: translateY(-1px); }
        
        .lb-btn-outline {
            border: 2px solid var(--lb-black);
            color: var(--lb-black);
            background-color: transparent;
        }
        .lb-btn-outline:hover { background-color: rgba(26, 26, 26, 0.05); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function CrosswordGame() {
            // ì •ë‹µ ë°ì´í„°
            const solution = [
                ['ë¬¸', 'í•´', 'ë ¥', -1, -1, -1, -1, -1, -1, -1],
                ['í•™', -1, -1, -1, 'ì„¤', -1, -1, -1, -1, -1],
                [-1, -1, 'ë¶ˆ', 'ë„', 'ì¥', -1, -1, 'ì†', -1, -1],
                [-1, -1, -1, -1, 'ê³„', -1, -1, 'ì ˆ', -1, -1],
                [-1, 'ì •', -1, -1, 'ë„', -1, -1, -1, -1, 'ë¡ '],
                ['ì¸', 'ì ', 'ì', 'ì›', -1, -1, -1, -1, -1, 'ë®¤'],
                [-1, 'ì„±', -1, -1, -1, -1, -1, -1, -1, 'ìµ'],
                [-1, -1, -1, -1, 'ë³µ', 'ë©', 'ì´', -1, -1, -1],
                [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                [-1, -1, 'ê±°', 'ì¸', -1, -1, -1, -1, -1, -1]
            ];

            const labels = { "0-0": 1, "0-4": 4, "2-2": 3, "2-7": 6, "4-1": 2, "4-9": 8, "5-0": 5, "7-4": 7, "9-2": 9 };
            const [grid, setGrid] = useState(solution.map(row => row.map(cell => (cell === -1 ? -1 : ""))));
            const [isPreviewing, setIsPreviewing] = useState(false);
            const [isError, setIsError] = useState(false);

            const handleChange = (row, col, value) => {
                const newGrid = [...grid];
                newGrid[row] = [...newGrid[row]];
                newGrid[row][col] = value.slice(-1);
                setGrid(newGrid);
                setIsError(false);
            };

            const checkAnswer = () => {
                const isCorrect = JSON.stringify(grid) === JSON.stringify(solution);
                if (isCorrect) {
                    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#B1967A', '#1A1A1A', '#F4F1EA'] });
                    setTimeout(() => {
                        if(confirm("ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ë¡±ë¸”ë™ì˜ ë¬¸ì¥ì„ ì™„ì„±í•˜ì…¨ìŠµë‹ˆë‹¤. ì›ë¬¸ì„ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                            window.open("https://www.longblack.co", "_blank");
                        }
                    }, 500);
                } else {
                    setIsError(true);
                    setTimeout(() => setIsError(false), 500);
                }
            };

            return (
                <div className="flex flex-col items-center min-h-screen p-4 md:p-12">
                    <header className="w-full max-w-4xl border-b-[3px] border-[#1A1A1A] pb-6 mb-12 text-center md:text-left">
                        <h1 className="text-5xl font-black tracking-tighter mb-2 italic">LONGBLACK</h1>
                        <div className="flex flex-col md:flex-row justify-between items-center gap-2">
                            <p className="text-xl font-medium tracking-tight text-gray-700">Daily Sentence Puzzle : ìƒê°ì˜ ê·¼ìœ¡ì„ ê¸°ë¥´ëŠ” ì‹œê°„</p>
                            <span className="bg-[#1A1A1A] text-white px-3 py-1 text-xs font-bold tracking-widest uppercase">Issue No. 01</span>
                        </div>
                    </header>

                    <div className="flex flex-col lg:flex-row gap-12 w-full max-w-6xl justify-center items-start">
                        {/* í¼ì¦ ê·¸ë¦¬ë“œ */}
                        <div className="flex flex-col gap-6 mx-auto lg:mx-0">
                            <div className={`grid grid-cols-10 gap-0 border-[1.5px] border-[#1A1A1A] bg-[#1A1A1A] shadow-xl transition-transform ${isError ? 'shake-effect' : ''}`}>
                                {grid.map((row, rIdx) => row.map((cell, cIdx) => (
                                    <div key={`${rIdx}-${cIdx}`} className="relative bg-white h-[42px] w-[42px]">
                                        {labels[`${rIdx}-${cIdx}`] && <span className="number-label">{labels[`${rIdx}-${cIdx}`]}</span>}
                                        {cell === -1 ? (
                                            <div className="empty-cell h-full w-full" />
                                        ) : (
                                            <input
                                                className={`grid-cell h-full w-full ${isPreviewing && cell === "" ? "preview-text" : ""}`}
                                                value={isPreviewing && cell === "" ? solution[rIdx][cIdx] : cell}
                                                onChange={(e) => handleChange(rIdx, cIdx, e.target.value)}
                                                readOnly={isPreviewing}
                                            />
                                        )}
                                    </div>
                                )))}
                            </div>
                            <button 
                                onMouseDown={() => setIsPreviewing(true)}
                                onMouseUp={() => setIsPreviewing(false)}
                                onMouseLeave={() => setIsPreviewing(false)}
                                onTouchStart={() => setIsPreviewing(true)}
                                onTouchEnd={() => setIsPreviewing(false)}
                                className="lb-btn-outline w-full py-3 font-bold text-sm select-none uppercase tracking-widest"
                            >
                                Hold to Peek (ì •ë‹µ ë³´ê¸°)
                            </button>
                        </div>

                        {/* íŒíŠ¸ ì„¹ì…˜ */}
                        <div className="flex-1 w-full bg-white p-8 border border-gray-200 shadow-sm rounded-sm min-h-[500px]">
                            <h3 className="text-2xl font-black border-b-2 border-[#1A1A1A] mb-6 pb-2 tracking-tighter">HINTS</h3>
                            <div className="space-y-6 text-[0.95rem] leading-relaxed">
                                <section>
                                    <h4 className="font-bold text-[#B1967A] mb-3 uppercase tracking-wider text-xs underline underline-offset-4">Across (ê°€ë¡œ)</h4>
                                    <ul className="space-y-3">
                                        [cite_start]<li><strong>1.</strong> ê¸€ì˜ ë§¥ë½ì„ ì¥ì•…í•˜ê³  ìƒê°ì˜ ìˆ˜ì¤€ì„ ê²°ì •í•˜ëŠ” í˜ [cite: 27]</li>
                                        [cite_start]<li><strong>3.</strong> 1ì¸ìš© ë§‘ì€ êµ­ë¬¼ë¡œ ì¬ê¸°íšëœ í›„ë•ì£½ ì…°í”„ì˜ ì‹œê·¸ë‹ˆì²˜ [cite: 215]</li>
                                        [cite_start]<li><strong>5.</strong> ì‚¬ëŒì„ ê´€ë¦¬í•  'ìì›'ìœ¼ë¡œë§Œ ë³´ëŠ” ì‹œê°ì— ëŒ€í•œ ê²½ê³„ [cite: 524]</li>
                                        [cite_start]<li><strong>7.</strong> "ë„ˆëŠ” ìš°ë¦¬ ì§‘ì˜ OO" - ìƒë‹´ê°€ ì´í˜¸ì„ ì´ ë°°ìš´ ìì•„ í•´ì„ë²• [cite: 643]</li>
                                        [cite_start]<li><strong>9.</strong> ê³ ë¯¼ì— ë¹ ì§„ ê±°ì¸ì˜ ì°°ë‚˜ë¥¼ í¬ì°©í•œ ë¡  ë®¤ìµì˜ ëŒ€í‘œì‘ [cite: 317]</li>
                                    </ul>
                                </section>
                                <section>
                                    <h4 className="font-bold text-[#B1967A] mb-3 uppercase tracking-wider text-xs underline underline-offset-4">Down (ì„¸ë¡œ)</h4>
                                    <ul className="space-y-3">
                                        [cite_start]<li><strong>1.</strong> íƒ€ì¸ì„ ì´í•´í•˜ê¸° ìœ„í•´ ì½ì–´ì•¼ í•  ì‹œëŒ€ì˜ ì§„ì‹¤ [cite: 71, 72]</li>
                                        [cite_start]<li><strong>2.</strong> 58ë…„ ê²½ë ¥ ìš”ë¦¬ì‚¬ì—ê²Œ ê¸°ìˆ ë³´ë‹¤ ì¤‘ìš”í•œ ì •ì„±ì˜ ë§ˆìŒ [cite: 198]</li>
                                        [cite_start]<li><strong>4.</strong> ë³µì¡í•œ ë§¥ë½ì„ íŒŒì•…í•˜ì—¬ ìƒê°ì˜ ë¼ˆëŒ€ë¥¼ ì§œëŠ” í˜ [cite: 14]</li>
                                        [cite_start]<li><strong>6.</strong> ì¸ì—°ì„ ì˜ë¼ë‚´ëŠ” ì§€ë…í•œ ê²°ì •ê³¼ ê·¸ì— ë”°ë¥´ëŠ” ìƒì²˜ [cite: 629]</li>
                                        [cite_start]<li><strong>8.</strong> ì§„ì§œ ì‚¬ëŒì²˜ëŸ¼ ì •êµí•˜ì§€ë§Œ ì€ë‘”ì„ ì¦ê¸°ëŠ” ì˜ˆìˆ ê°€ [cite: 275, 281]</li>
                                    </ul>
                                </section>
                            </div>
                            <button 
                                onClick={checkAnswer}
                                className="lb-btn-primary w-full mt-12 py-5 font-black text-xl tracking-widest uppercase"
                            >
                                Submit Answer
                            </button>
                        </div>
                    </div>
                </div>
            );
        }
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CrosswordGame />);
    </script>
</body>
</html>
