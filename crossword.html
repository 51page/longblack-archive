<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LongBlack | Daily Puzzle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,900&family=Noto+Serif+KR:wght@400;700&display=swap');
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        :root {
            --lb-black: #1A1A1A;
            --lb-bg: #F4F1EA;
            --lb-point: #B1967A;
        }

        body { 
            background-color: var(--lb-bg); 
            font-family: 'Pretendard', sans-serif; 
            color: var(--lb-black); 
            -webkit-tap-highlight-color: transparent;
        }

        .serif { font-family: 'Playfair Display', 'Noto Serif KR', serif; }

        /* ëª¨ë°”ì¼ ëŒ€ì‘ ê·¸ë¦¬ë“œ ì‚¬ì´ì¦ˆ ì¡°ì • */
        .grid-container {
            display: grid;
            grid-template-cols: repeat(10, 1fr);
            width: 100%;
            max-width: 400px; /* ëª¨ë°”ì¼ í­ ìµœì í™” */
            margin: 0 auto;
            border: 1.5px solid var(--lb-black);
            background-color: var(--lb-black);
            gap: 1px;
        }
        
        .cell-wrapper {
            aspect-ratio: 1 / 1;
            position: relative;
            background-color: #FFFFFF;
        }

        .grid-cell { 
            width: 100%; height: 100%; 
            text-align: center; font-weight: 700; font-size: clamp(0.9rem, 4vw, 1.2rem); 
            border: none; outline: none; transition: background-color 0.1s;
            display: flex; align-items: center; justify-content: center;
        }

        .grid-cell:focus { background-color: #E8E5DF; }
        .empty-cell { background-color: var(--lb-black); width: 100%; height: 100%; }
        
        .number-label { 
            position: absolute; font-size: clamp(7px, 2vw, 9px); font-weight: 800; 
            left: 2px; top: 1px; color: var(--lb-black); 
            pointer-events: none; z-index: 10;
        }

        .hairline { border-top: 1px solid var(--lb-black); width: 100%; margin: 2px 0; }
        .preview-text { color: var(--lb-point) !important; opacity: 0.6; }

        /* í•˜ë‹¨ ê³ ì •í˜• ë²„íŠ¼ (ëª¨ë°”ì¼ ì‚¬ìš©ì„±) */
        .mobile-action-bar {
            position: sticky; bottom: 0; background: var(--lb-bg);
            border-top: 1px solid var(--lb-black); padding: 12px;
            display: flex; gap: 8px; width: 100%; z-index: 50;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function CrosswordGame() {
            const solution = [
                ['ë¬¸', 'í•´', 'ë ¥', -1, -1, -1, -1, -1, -1, -1],
                ['í•™', -1, -1, -1, 'ì„¤', -1, -1, -1, -1, -1],
                [-1, -1, 'ë¶ˆ', 'ë„', 'ì¥', -1, -1, 'ì†', -1, -1],
                [-1, -1, -1, -1, 'ê³„', -1, -1, 'ì ˆ', -1, -1],
                [-1, 'ì •', -1, -1, 'ë„', -1, -1, -1, -1, 'ë¡ '],
                ['ì¸', 'ì ', 'ì', 'ì›', -1, -1, -1, -1, -1, 'ë®¤'],
                [-1, 'ì„±', -1, -1, -1, -1, -1, -1, -1, 'ìµ'],
                [-1, -1, -1, -1, 'ë³µ', 'ë©', 'ì´', -1, -1, -1],
                [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                [-1, -1, 'ê±°', 'ì¸', -1, -1, -1, -1, -1, -1]
            ];

            const labels = { "0-0": 1, "0-4": 4, "2-2": 3, "2-7": 6, "4-1": 2, "4-9": 8, "5-0": 5, "7-4": 7, "9-2": 9 };
            const [grid, setGrid] = useState(solution.map(row => row.map(cell => (cell === -1 ? -1 : ""))));
            const [isPreviewing, setIsPreviewing] = useState(false);

            const handleChange = (row, col, value) => {
                const newGrid = [...grid];
                newGrid[row] = [...newGrid[row]];
                newGrid[row][col] = value.slice(-1);
                setGrid(newGrid);
            };

            const checkAnswer = () => {
                const isCorrect = JSON.stringify(grid) === JSON.stringify(solution);
                if (isCorrect) {
                    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                    setTimeout(() => {
                        if(confirm("ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ë¡±ë¸”ë™ ì›ë¬¸ì„ ë³´ëŸ¬ ê°€ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                            window.open("https://www.longblack.co", "_blank");
                        }
                    }, 500);
                } else {
                    alert("í‹€ë¦° ì¹¸ì´ ìˆìŠµë‹ˆë‹¤. íŒíŠ¸ë¥¼ ë‹¤ì‹œ ì½ì–´ë³´ì„¸ìš”.");
                }
            };

            return (
                <div className="flex flex-col min-h-screen">
                    <div className="p-4 flex-1">
                        <header className="text-center mb-8">
                            <div className="flex justify-between text-[8px] font-bold border-b border-black mb-1">
                                <span>ISSUE NO. 01</span>
                                <span>JAN. 24, 2026</span>
                            </div>
                            <h1 className="serif text-4xl tracking-tighter">LONGBLACK</h1>
                            <div className="hairline"></div>
                            <p className="text-[10px] mt-2 font-bold uppercase tracking-widest italic">Daily Sentence Puzzle</p>
                        </header>

                        {/* í¼ì¦ ê·¸ë¦¬ë“œ: ëª¨ë°”ì¼ ì¤‘ì•™ ì •ë ¬ */}
                        <div className="grid-container mb-8">
                            {grid.map((row, rIdx) => row.map((cell, cIdx) => (
                                <div key={`${rIdx}-${cIdx}`} className="cell-wrapper">
                                    {labels[`${rIdx}-${cIdx}`] && <span className="number-label">{labels[`${rIdx}-${cIdx}`]}</span>}
                                    {cell === -1 ? (
                                        <div className="empty-cell" />
                                    ) : (
                                        <input
                                            className={`grid-cell ${isPreviewing && cell === "" ? "preview-text" : ""}`}
                                            value={isPreviewing && cell === "" ? solution[rIdx][cIdx] : cell}
                                            onChange={(e) => handleChange(rIdx, cIdx, e.target.value)}
                                            readOnly={isPreviewing}
                                            inputMode="text"
                                        />
                                    )}
                                </div>
                            )))}
                        </div>

                        {/* íŒíŠ¸ ì˜ì—­ */}
                        <div className="space-y-6 pb-20">
                            <h2 className="serif text-2xl italic border-b border-black pb-2">Clues</h2>
                            <div>
                                <h3 className="text-[10px] font-bold uppercase tracking-widest mb-3 text-[#B1967A]">Across</h3>
                                <ul className="text-xs space-y-3 leading-snug">
                                    [cite_start]<li><strong>1.</strong> ê¸€ì˜ ë§¥ë½ì„ ì¥ì•…í•˜ëŠ” í˜ </li>
                                    [cite_start]<li><strong>3.</strong> 1ì¸ìš© ë§‘ì€ êµ­ë¬¼ ë³´ì–‘ì‹ </li>
                                    [cite_start]<li><strong>5.</strong> ì‚¬ëŒì„ ìì›ìœ¼ë¡œë§Œ ë³´ëŠ” ì‹œê° [cite: 524]</li>
                                    [cite_start]<li><strong>7.</strong> "ë„ˆëŠ” ìš°ë¦¬ ì§‘ì˜ OO" </li>
                                    [cite_start]<li><strong>9.</strong> ì›…í¬ë¦° ì±„ ê³ ë¯¼ì— ë¹ ì§„ ê±°ì¸ </li>
                                </ul>
                            </div>
                            <div>
                                <h3 className="text-[10px] font-bold uppercase tracking-widest mb-3 text-[#B1967A]">Down</h3>
                                <ul className="text-xs space-y-3 leading-snug">
                                    [cite_start]<li><strong>1.</strong> ì½ì–´ì•¼ í•  ë¶ˆí¸í•œ ì§„ì‹¤ [cite: 72]</li>
                                    [cite_start]<li><strong>2.</strong> ìš”ë¦¬ì‚¬ì—ê²Œ ì¤‘ìš”í•œ ì •ì„± [cite: 198]</li>
                                    [cite_start]<li><strong>4.</strong> ìƒê°ì˜ ë¼ˆëŒ€ì¸ ì„¤ê³„ë„ [cite: 14]</li>
                                    [cite_start]<li><strong>6.</strong> ì¸ì—°ì„ ëŠëŠ” ì§€ë…í•œ ê²°ì • [cite: 629]</li>
                                    [cite_start]<li><strong>8.</strong> ì •êµí•œ ì¡°ê°ì„ í•˜ëŠ” ì€ë‘” ì‘ê°€ [cite: 282]</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    {/* ëª¨ë°”ì¼ ì•¡ì…˜ ë°”: ì •ë‹µ ë³´ê¸°ì™€ ì œì¶œ ë²„íŠ¼ */}
                    <div className="mobile-action-bar">
                        <button 
                            onContextMenu={(e) => e.preventDefault()}
                            onTouchStart={() => setIsPreviewing(true)}
                            onTouchEnd={() => setIsPreviewing(false)}
                            onMouseDown={() => setIsPreviewing(true)}
                            onMouseUp={() => setIsPreviewing(false)}
                            className="flex-1 py-4 border border-black font-bold text-[10px] uppercase tracking-widest active:bg-gray-200 transition select-none"
                        >
                            Peek (ì •ë‹µ ë³´ê¸°)
                        </button>
                        <button 
                            onClick={checkAnswer}
                            className="flex-[1.5] py-4 bg-black text-white font-bold text-[10px] uppercase tracking-widest"
                        >
                            Submit Answer
                        </button>
                    </div>
                </div>
            );
        }
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CrosswordGame />);
    </script>
</body>
</html>
